<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Login Admin</title>
  <link rel="stylesheet" href="css/default.css" />
</head>
<body>
  <div class="page">
    <header>
      <h1>Área Administração</h1>
    </header>

    <main>
      <form id="loginForm">
        <div class="entry">
          <label for="email">E-mail</label>
          <input type="email" id="email" required />
        </div>
        <div class="entry">
          <label for="senha">Senha</label>
          <input type="password" id="senha" required />
        </div>
        <div class="buttons">
          <button type="submit" class="button">Entrar</button>
        </div>
      </form>
      <div id="msgErro" style="color:red; margin-top:10px; display:none;">E-mail e Senha inválidos</div>
    </main>
  </div>

    <nav>
        <ul class="navmenu">
          <li><a href="index.html">Página inicial</a></li>
          <li><a href="aluguel.html" class="accent">Aluguel de iates</a></li>
          <li><a href="destinos.html">Destinos</a></li>
          <li><a href="tripulacao.html">Tripulação</a></li>
          <li><a href="contato.html">Contato</a></li>
          <li><a href="admin.html">Admin</a></li>

        </ul>
      </nav>

  <footer>
    <p>© 2023 por Luxo aluguel de iates</p>
  </footer>


  <script src="js/jquery-3.6.4.min.js"></script>
  <script src="js/api.js"></script>

  <script>
  $(function(){
    $('#loginForm').on('submit', function(e){
      e.preventDefault();
      var email = $('#email').val().trim();
      var senha = $('#senha').val().trim();

      var objLoginSenha = {
        email: email,
        senha: senha
      };

      var valido = false;
      try {
        valido = validarUsuario(objLoginSenha);
      } catch(err) {
        console.warn('validarUsuario indisponível:', err);
        if (email === 'admin@admin.com' && senha === '1234') valido = true;
      }

      if (valido === true) {

        window.location.href = 'mensagens.html';
      } else {
        $('#msgErro').show();
      }
    });
  });
  </script>
</body>
</html>
